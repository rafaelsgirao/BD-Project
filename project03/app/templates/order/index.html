{% extends 'base.html' %}


{% block header %}
<div class="px-4 sm:px-0 flex justify-between">
  <h1 class=" ml-4 text-3xl font-semibold leading-7 text-gray-900 mt-8 mb-3 justify-content: center">Orders</h1>
  <a href="{{ url_for('order_add')}}" class=" mr-8 mt-8 h-10 rounded-md  bg-slate-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-slate-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Add Order</a>
</div>


 
{% endblock %}

{% block content %}
  <ul role="list" class="divide-y divide-gray-100 ml-8 mr-8">
  {% for order in orders %}
  
    <article class="post">
      <header>

        <li class="flex justify-between gap-x-6 py-5">
          <div class="flex gap-x-4">
            <div class="min-w-0 flex-auto">
              <h1 class="text-2xl font-semibold leading-6 text-gray-900">{{ order['order_no'] }}</h1>
              <p class="text-sm font-semibold leading-6 text-gray-600">Cust No: {{ order['cust_no']}}</p>
              <p class="mt-1 truncate text-xs leading-5 text-gray-500">Date: {{ order['date'] }}</p>
            </div>
          </div>
          <div class="hidden sm:flex sm:flex-col sm:items-end">
            <p class="mt-1 mr-10 text-xs leading-5 text-gray-500">Paid: {{ "✅" if order['paid_order_no'] else "❌" }}</time></p>
          </div>
        </li>


        {% if not order['paid_order_no'] %}

        <a class="action" onclick="return confirm('Are you sure you want to mark this order as paid?');" href="{{ url_for('order_pay', order_no=order['order_no']) }}"> Mark as paid</a>

        {% endif %}


      </header>
    </article>
    {% if not loop.last %}
      <hr>
    {% endif %}
  {% endfor %}
  </ul>
  {% include 'pagination.html' %}
{% endblock %}


  